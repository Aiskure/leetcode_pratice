
## 🏗️ 栈与队列专题学习全景图

在本专题中，我们从最基础的**逻辑模拟**出发，一路上升到了**单调性维护**和**优先级管理**的高级技巧。

---

### 一、 核心逻辑与结构转换

我们首先理解了栈（FILO - 先进后出）与队列（FIFO - 先进先出）的底层性格。

* **232. 用栈实现队列** & **225. 用队列实现栈**
* **核心收获**：学会了如何用“负负得正”的思想（两个栈）来翻转顺序，以及如何用“循环位置”的思想（单队列）来模拟垂直结构。



---

### 二、 栈的经典应用：匹配、消除与计算

栈最擅长处理的是**具有对称性**或**相邻关系**的问题。

* **20. 有效的括号**
* **逻辑**：左括号入栈，右括号匹配。它是处理“嵌套结构”的万能模板。


* **1047. 删除字符串中的所有相邻重复项**
* **逻辑**：**“消消乐”模型**。栈顶元素与新元素对比，相同则抵消。这是处理“相邻消除”问题的核心思想。


* **150. 逆波兰表达式求值**
* **逻辑**：后缀表达式计算。数字入栈，运算符出栈并计算。这是计算机解析复杂运算公式的底层原理。
* **避坑指南**：Python 里的整数除法向零取整需要用 `int(float(a) / b)`。



---

### 三、 队列的进阶：单调性与优先级

这是本专题最硬核的部分，将时间复杂度从  或  压低到了 。

#### 1. 单调队列 (Monotonic Queue)

* **239. 滑动窗口最大值**
* **核心灵魂**：**“残酷淘汰制”**。如果一个元素比你大还比你年轻，那你就可以永远消失了。
* **技巧**：
* 使用 `deque` 或数组指针。
* **队首**始终是当前窗口的老大。
* 入队时从**队尾**踢走所有弱者。


* **极致优化**：直接存数组下标，利用下标判断元素是否过期。



#### 2. 优先级队列/堆 (Heap)

* **347. 前 K 个高频元素**
* **核心灵魂**：**“自动排序的领奖台”**。
* **技巧**：
* **小顶堆**找前  个最大：堆满时踢走堆顶（最小频率），剩下的就是最大的。
* Python 的 `heapq` 默认是小顶堆，存储 `(freq, value)` 元组时按 `freq` 排序。





---

### 四、 算法思想总结

| 数据结构 | 解决的核心问题 | 关键词 |
| --- | --- | --- |
| **栈 (Stack)** | 匹配、撤销、相邻抵消 | 递归、嵌套、倒序 |
| **普通队列** | 顺序处理、层次遍历 | 先来后到、缓冲 |
| **单调队列** | 区间/窗口内的最值 | 淘汰、滑动窗口 |
| **优先级队列 (堆)** | 全局或大集合中的 Top K | 极值、动态排序 |

---